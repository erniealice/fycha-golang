{{/* Full page — for direct access / non-HTMX */}}
{{define "reports-dashboard"}}
{{template "app-shell" .}}
{{end}}

{{/* Content-only partial — for HTMX navigation */}}
{{define "reports-dashboard-content"}}
<div class="page-content report-layout dashboard-layout"
     data-page-css="/assets/css/fycha/fycha-report.css?v={{.CacheVersion}}">

    {{/* ─── KPI Summary Bar ─── */}}
    <div class="report-summary-bar">
        {{range .Summary}}
        <div class="summary-metric{{if .Highlight}} highlight{{end}}">
            <span class="summary-label">{{.Label}}</span>
            {{if .Variant}}
            <span class="summary-value badge {{.Variant}}">{{.Value}}</span>
            {{else}}
            <span class="summary-value">{{.Value}}</span>
            {{end}}
        </div>
        {{end}}
    </div>

    {{/* ─── Report Navigation Grid ─── */}}
    <div class="dashboard-report-grid">
        {{range .ReportCards}}
        <a class="dashboard-report-card"
           href="{{.URL}}"
           hx-get="{{.URL}}"
           hx-target="closest .main"
           hx-swap="innerHTML"
           hx-push-url="true">
            <div class="dashboard-report-card-icon">
                {{renderContent .Icon $}}
            </div>
            <div class="dashboard-report-card-body">
                <h3 class="dashboard-report-card-title">{{.Title}}</h3>
                <p class="dashboard-report-card-desc">{{.Description}}</p>
            </div>
            <div class="dashboard-report-card-arrow">
                {{template "icon-chevron-right"}}
            </div>
        </a>
        {{end}}
    </div>

</div>
{{end}}
